"use strict";const e=function(){let e={},t=null,n=null,o=()=>{},d=()=>{},i=()=>{},r=()=>{},s=()=>{};const l=o=>{const l=(()=>{const e=document.createElement("div");return e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.width="100%",e.style.height="100%",e.style.zIndex="9999",e.style.backgroundColor="black",n=e,e})(),a=(o=>{const d=document.createElement("video");d.id=e.id||"ad-in-line-ad",d.style.width="100%",d.style.height="100%";const r=document.createElement("source");return r.src=o.videoUrl,r.type="video/mp4",d.appendChild(r),d.onended=()=>{n.remove(),i()},d.onclick=()=>{window.open(o.clickthroughUrl,"_blank")},t=d,d})(o),c=(({timeLeft:e=5})=>{const o=document.createElement("div");o.style.position="absolute",o.style.top="1rem",o.style.right="1rem",o.style.zIndex="9999";let d=e;const i=document.createElement("span"),s=document.createElement("button");[i,s].forEach((e=>{e.style.display="flex",e.style.justifyContent="center",e.style.alignItems="center",e.style.boxSizing="border-box",e.style.color="white",e.style.fontSize="0.875rem",e.style.width="1.75rem",e.style.height="1.75rem",e.style.padding="0.125rem",e.style.border="2px solid white",e.style.borderRadius="999px",e.style.userSelect="none"})),i.textContent=d;const l=document.createElement("img");l.src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSIjZmZmIiBkPSJNNi40IDE5TDUgMTcuNmw1LjYtNS42TDUgNi40TDYuNCA1bDUuNiA1LjZMMTcuNiA1TDE5IDYuNEwxMy40IDEybDUuNiA1LjZsLTEuNCAxLjRsLTUuNi01LjZ6Ii8+PC9zdmc+",s.appendChild(l),s.style.backgroundColor="transparent",s.style.outline="none",s.style.cursor="pointer",s.onclick=()=>{r(),n.remove()},o.appendChild(i);const a=()=>{d>0?(i.textContent=d,d--,setTimeout(a,1e3)):(i.remove(),o.appendChild(s))};return t?.addEventListener("play",a),o})(o,o.skippableAfter);l.appendChild(a),l.appendChild(c),document.body.appendChild(l);try{t?.play(),d()}catch(e){s(e)}};return{version:"1.0.0",init:t=>{if(!t.miniAppId)throw new Error("must have miniAppId");e=t||{}},loadAd:async()=>{const e=await fetch("https://api.webton.ai/v1/ads/serve",{method:"GET",headers:{"Content-Type":"application/json"}}),t=await e.json();l(t.data),o()},get onLoadedAd(){return o},set onLoadedAd(e){o=e},get onStartAd(){return d},set onStartAd(e){d=e},get onCompletedAd(){return i},set onCompletedAd(e){i=e},get onSkipAd(){return r},set onSkipAd(e){r=e},get onError(){return s},set onError(e){s=e}}}();window.AdInLine=e;
